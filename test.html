<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Datepicker Example</title>
  </head>
  <body>
    <h1>Chọn ngày</h1>
    <input type="file" id="d1" placeholder="Chọn" />
    <input type="file" id="d2" placeholder="Chọn" />
    <input type="file" id="d3" placeholder="Chọn" />
    <button id="post">Gửi</button>
    <script>
      let post = document.querySelector('#post')
      post.addEventListener('click', () => {
        const formData = new FormData()

        // Dữ liệu JSON (không bao gồm images)
        const data = {
          comment: 'abc',
          star: 5,
          address: 'active',
          email: 'abc@gmail.com',
          name: 'HH',
          rooms: 10,
          phone_number: '092876131',
        }

        // Append dữ liệu JSON vào FormData
        formData.append('data', JSON.stringify(data))

        // Append multiple images (file input)
        const d1 = document.querySelector('#d1').files[0]
        const d2 = document.querySelector('#d2').files[0]
        const d3 = document.querySelector('#d3').files[0]
        console.log('object :>> ', d1, d2, d3)
        formData.append('files.images', d1)
        formData.append('files.images', d2)
        formData.append('files.images', d3)
        formData.forEach((value, key) => {
          console.log(key, value)
        })
        // Gửi dữ liệu tới Strapi backend
        fetch('https://api-gateway-5p4v.onrender.com/api/hotels/', {
          method: 'POST',
          body: formData,
        })
          .then((response) => response.json())
          .then((data) => console.log(data))
          .catch((error) => console.error('Error:', error))
      })
    </script>
  </body>
</html>
