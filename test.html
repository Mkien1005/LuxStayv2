<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Datepicker Example</title>
  </head>
  <body>
    <h1>Chọn ngày</h1>
    <input type="file" id="datepicker1" placeholder="Chọn" />
    <input type="file" id="datepicker2" placeholder="Chọn" />
    <input type="file" id="datepicker3" placeholder="Chọn" />
    <button id="post">Gửi</button>
    <script>
      let post = document.querySelector('#post')
      post.addEventListener('click', () => {
        const formData = new FormData()

        // Dữ liệu JSON (không bao gồm images)
        const data = {
          comment: 'abc',
          rating: 5,
          status: 'active',
          user_id: 1,
          room_id: 1,
          likes: 0,
        }

        // Append dữ liệu JSON vào FormData
        formData.append('data', JSON.stringify(data))

        // Append multiple images (file input)
        const imageFiles = document.querySelectorAll('input[type="file"]')
        console.log('object :>> ', imageFiles[0])
        const file = []
        for (let i = 0; i < imageFiles.length; i++) {
          file[i] = imageFiles[i].files
        }
        console.log('object :>> ', file)
        formData.append('files.images', file)
        formData.forEach((value, key) => {
          console.log(key, value)
        })
        // Gửi dữ liệu tới Strapi backend
        fetch('https://api-gateway-5p4v.onrender.com/api/hotels/', {
          method: 'POST',
          body: formData,
        })
          .then((response) => response.json())
          .then((data) => console.log(data))
          .catch((error) => console.error('Error:', error))
      })
    </script>
  </body>
</html>
